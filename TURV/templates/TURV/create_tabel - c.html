{% extends 'TURV\index.html'%}
{%block title%}{{b_tabel.department}} {{month}} {{year}}{%endblock%}
{%block header%} <a class="btn btn-dark" href=".."> < Назад </a> | <span id="id_month" class="">{{month}}</span> <span id="id_year" class="">{{year}}</span> Табель учета рабочего времени <span><b>{{b_tabel.department}}</b></span> за: <b><span class="field_month">{{month}}</span> {{year}} г.</b> Всего человек в табеле: {{count}}.{%endblock%}

{% block body %}

<div class="container tabel_container">

  <div class="print_allow hide cover">

  <h1>ОБЛОЖКА</h1>

  </div>

  <form class="print" action="" method="post">
    {%csrf_token%}


<div class="hide">
  {{form.month}}
  {{form.year}}
  {{form.department}}
</div>
  <label for="del_check">Пометка удаления</label> {{form.del_check}} <input class="btn btn-outline-danger btn-sm" type="submit" name="" value="ПОДТВЕРДИТЬ">
  </form>
  {% if form.errors %}
  {{form.errors}}
  {%endif%}

  {% if b_tabel.del_check %}
  {% else %}
  <a class="btn btn-success btn-add print" href="{% url 'tabel_addItem_url' id=b_tabel.id%}">+ Добавить сотрудника в табель</a>
  {% endif %}

{% if items %}


<table class="print-allow" cellpadding="2" cellspacing="0">
  <thead class="thead-dark">
  <tr class="tr-header">


    <th>ФИО, должн., разр.</th>
    <th >Ступень</th>
    <th>1</th>
    <th>2</th>
    <th>3</th>
    <th>4</th>
    <th>5</th>
    <th>6</th>
    <th>7</th>
    <th>8</th>
    <th>9</th>
    <th>10</th>
    <th>11</th>
    <th>12</th>
    <th>13</th>
    <th>14</th>
    <th>15</th>
    <th>16</th>
    <th>17</th>
    <th>18</th>
    <th>19</th>
    <th>20</th>
    <th>21</th>
    <th>22</th>
    <th>23</th>
    <th>24</th>
    <th>25</th>
    <th>26</th>
    <th>27</th>
    <th>28</th>
    <th class="day29">29</th>
    <th class="day30">30</th>
    <th class="day31">31</th>
    <th>Отработано дней</th>
    <th>Отработано часов</th>
    <th>Дней неявок</th>
    <th>Из них по причинам</th>







  </tr>
  </thead>

  {%for item in items %}





    <tr onclick="return location.href = '{% url 'tabel_updItem_url' id=item.id%}' "  class="time_types">
      <td class="t_print_emp" rowspan="2">{{item.employer.fullname}}, {{item.position}}, {{item.level}}</td>

      <td rowspan="2">{{item.positionOfPayment}}</td>
      <td class="cell_ttime">{{item.type_time1}}</td>
      <td class="cell_ttime">{{item.type_time2}}</td>
      <td class="cell_ttime">{{item.type_time3}}</td>
      <td class="cell_ttime">{{item.type_time4}}</td>
      <td class="cell_ttime">{{item.type_time5}}</td>
      <td class="cell_ttime">{{item.type_time6}}</td>
      <td class="cell_ttime">{{item.type_time7}}</td>
      <td class="cell_ttime">{{item.type_time8}}</td>
      <td class="cell_ttime">{{item.type_time9}}</td>
      <td class="cell_ttime">{{item.type_time10}}</td>
      <td class="cell_ttime">{{item.type_time11}}</td>
      <td class="cell_ttime">{{item.type_time12}}</td>
      <td class="cell_ttime">{{item.type_time13}}</td>
      <td class="cell_ttime">{{item.type_time14}}</td>
      <td class="cell_ttime">{{item.type_time15}}</td>
      <td class="cell_ttime">{{item.type_time16}}</td>
      <td class="cell_ttime">{{item.type_time17}}</td>
      <td class="cell_ttime">{{item.type_time18}}</td>
      <td class="cell_ttime">{{item.type_time19}}</td>
      <td class="cell_ttime">{{item.type_time20}}</td>
      <td class="cell_ttime">{{item.type_time21}}</td>
      <td class="cell_ttime">{{item.type_time22}}</td>
      <td class="cell_ttime">{{item.type_time23}}</td>
      <td class="cell_ttime">{{item.type_time24}}</td>
      <td class="cell_ttime">{{item.type_time25}}</td>
      <td class="cell_ttime">{{item.type_time26}}</td>
      <td class="cell_ttime">{{item.type_time27}}</td>
      <td class="cell_ttime">{{item.type_time28}}</td>
      <td class="cell_ttime  day29 ">{{item.type_time29}}</td>
      <td class="cell_ttime day30 ">{{item.type_time30}}</td>
      <td class="cell_ttime day31">{{item.type_time31}}</td>
      <td rowspan="2">{{item.w_days}}</td>
      {% if item.sHours19 != 0 %}
      <td rowspan="2">{{item.w_hours}}/{{item.sHours19}}</td>
      {%else%}
      <td rowspan="2">{{item.w_hours}}</td>
        {%endif%}
      <td rowspan="2">{{item.v_days}}</td>
      <td rowspan="2" class="vac_include"> {{item.sHours9}}</td>







    </tr>
    <tr class='row_hours'>

        <td class="cell_hours">{{item.hours1}}</td>
        <td class="cell_hours">{{item.hours2}}</td>
        <td class="cell_hours">{{item.hours3}}</td>
        <td class="cell_hours">{{item.hours4}}</td>
        <td class="cell_hours">{{item.hours5}}</td>
        <td class="cell_hours">{{item.hours6}}</td>
        <td class="cell_hours">{{item.hours7}}</td>
      <td class="cell_hours">{{item.hours8}}</td>
      <td class="cell_hours">{{item.hours9}}</td>
      <td class="cell_hours">{{item.hours10}}</td>
      <td class="cell_hours">{{item.hours11}}</td>
      <td class="cell_hours">{{item.hours12}}</td>
      <td class="cell_hours">{{item.hours13}}</td>
      <td class="cell_hours">{{item.hours14}}</td>
      <td class="cell_hours">{{item.hours15}}</td>
      <td class="cell_hours">{{item.hours16}}</td>
      <td class="cell_hours">{{item.hours17}}</td>
      <td class="cell_hours">{{item.hours18}}</td>
      <td class="cell_hours">{{item.hours19}}</td>
      <td class="cell_hours">{{item.hours20}}</td>
      <td class="cell_hours">{{item.hours21}}</td>
      <td class="cell_hours">{{item.hours22}}</td>
      <td class="cell_hours">{{item.hours23}}</td>
      <td class="cell_hours">{{item.hours24}}</td>
      <td class="cell_hours">{{item.hours25}}</td>
      <td class="cell_hours">{{item.hours26}}</td>
      <td class="cell_hours">{{item.hours27}}</td>
      <td class="cell_hours">{{item.hours28}}</td>
      <td class="cell_hours day29">{{item.hours29}}</td>
      <td class="cell_hours day30">{{item.hours30}}</td>
      <td class="cell_hours day31">{{item.hours31}}</td>

    </tr>








  {%endfor%}
</table>



<table class="print" cellpadding="2" cellspacing="0">
  <thead class="thead-dark">
  <tr class="tr-header">


    <th>ФИО</th>
    <th >Должность</th>
    <th >Разряд</th>
    <th >Ступень</th>
    <th>1</th>
    <th>2</th>
    <th>3</th>
    <th>4</th>
    <th>5</th>
    <th>6</th>
    <th>7</th>
    <th>8</th>
    <th>9</th>
    <th>10</th>
    <th>11</th>
    <th>12</th>
    <th>13</th>
    <th>14</th>
    <th>15</th>
    <th>16</th>
    <th>17</th>
    <th>18</th>
    <th>19</th>
    <th>20</th>
    <th>21</th>
    <th>22</th>
    <th>23</th>
    <th>24</th>
    <th>25</th>
    <th>26</th>
    <th>27</th>
    <th>28</th>
    <th class="day29">29</th>
    <th class="day30">30</th>
    <th class="day31">31</th>
    <th>Отработано дней</th>
    <th>Отработано часов</th>
    <th>Дней неявок</th>
    <th>Из них по причинам</th>







  </tr>
  </thead>

  {%for item in items %}





    <tr onclick="return location.href = '{% url 'tabel_updItem_url' id=item.id%}' "  class="time_types_noprint">
      <td rowspan="2">{{item.employer.fullname}}</td>
      <td rowspan="2">{{item.position}}</td>
      <td rowspan="2">{{item.level}}</td>
      <td rowspan="2">{{item.positionOfPayment}}</td>
      <td class="cell_ttime_noprint">{{item.type_time1}}</td>
      <td class="cell_ttime_noprint">{{item.type_time2}}</td>
      <td class="cell_ttime_noprint">{{item.type_time3}}</td>
      <td class="cell_ttime_noprint">{{item.type_time4}}</td>
      <td class="cell_ttime_noprint">{{item.type_time5}}</td>
      <td class="cell_ttime_noprint">{{item.type_time6}}</td>
      <td class="cell_ttime_noprint">{{item.type_time7}}</td>
      <td class="cell_ttime_noprint">{{item.type_time8}}</td>
      <td class="cell_ttime_noprint">{{item.type_time9}}</td>
      <td class="cell_ttime_noprint">{{item.type_time10}}</td>
      <td class="cell_ttime_noprint">{{item.type_time11}}</td>
      <td class="cell_ttime_noprint">{{item.type_time12}}</td>
      <td class="cell_ttime_noprint">{{item.type_time13}}</td>
      <td class="cell_ttime_noprint">{{item.type_time14}}</td>
      <td class="cell_ttime_noprint">{{item.type_time15}}</td>
      <td class="cell_ttime_noprint">{{item.type_time16}}</td>
      <td class="cell_ttime_noprint">{{item.type_time17}}</td>
      <td class="cell_ttime_noprint">{{item.type_time18}}</td>
      <td class="cell_ttime_noprint">{{item.type_time19}}</td>
      <td class="cell_ttime_noprint">{{item.type_time20}}</td>
      <td class="cell_ttime_noprint">{{item.type_time21}}</td>
      <td class="cell_ttime_noprint">{{item.type_time22}}</td>
      <td class="cell_ttime_noprint">{{item.type_time23}}</td>
      <td class="cell_ttime_noprint">{{item.type_time24}}</td>
      <td class="cell_ttime_noprint">{{item.type_time25}}</td>
      <td class="cell_ttime_noprint">{{item.type_time26}}</td>
      <td class="cell_ttime_noprint">{{item.type_time27}}</td>
      <td class="cell_ttime_noprint">{{item.type_time28}}</td>
      <td class="cell_ttime_noprint  day29 ">{{item.type_time29}}</td>
      <td class="cell_ttime_noprint day30 ">{{item.type_time30}}</td>
      <td class="cell_ttime_noprint day31">{{item.type_time31}}</td>
      <td rowspan="2">{{item.w_days}}</td>
      {% if item.sHours19 != 0 %}
      <td rowspan="2">{{item.w_hours}}/{{item.sHours19}}</td>
      {%else%}
      <td rowspan="2">{{item.w_hours}}</td>
        {%endif%}
      <td rowspan="2">{{item.v_days}}</td>
      <td rowspan="2" class="vac_include_noprint"></td>







    </tr>
    <tr>

        <td class="cell_hours_noprint">{{item.hours1}}</td>
        <td class="cell_hours_noprint">{{item.hours2}}</td>
        <td class="cell_hours_noprint">{{item.hours3}}</td>
        <td class="cell_hours_noprint">{{item.hours4}}</td>
        <td class="cell_hours_noprint">{{item.hours5}}</td>
        <td class="cell_hours_noprint">{{item.hours6}}</td>
        <td class="cell_hours_noprint">{{item.hours7}}</td>
      <td class="cell_hours_noprint">{{item.hours8}}</td>
      <td class="cell_hours_noprint">{{item.hours9}}</td>
      <td class="cell_hours_noprint">{{item.hours10}}</td>
      <td class="cell_hours_noprint">{{item.hours11}}</td>
      <td class="cell_hours_noprint">{{item.hours12}}</td>
      <td class="cell_hours_noprint">{{item.hours13}}</td>
      <td class="cell_hours_noprint">{{item.hours14}}</td>
      <td class="cell_hours_noprint">{{item.hours15}}</td>
      <td class="cell_hours_noprint">{{item.hours16}}</td>
      <td class="cell_hours_noprint">{{item.hours17}}</td>
      <td class="cell_hours_noprint">{{item.hours18}}</td>
      <td class="cell_hours_noprint">{{item.hours19}}</td>
      <td class="cell_hours_noprint">{{item.hours20}}</td>
      <td class="cell_hours_noprint">{{item.hours21}}</td>
      <td class="cell_hours_noprint">{{item.hours22}}</td>
      <td class="cell_hours_noprint">{{item.hours23}}</td>
      <td class="cell_hours_noprint">{{item.hours24}}</td>
      <td class="cell_hours_noprint">{{item.hours25}}</td>
      <td class="cell_hours_noprint">{{item.hours26}}</td>
      <td class="cell_hours_noprint">{{item.hours27}}</td>
      <td class="cell_hours_noprint">{{item.hours28}}</td>
      <td class="cell_hours_noprint day29">{{item.hours29}}</td>
      <td class="cell_hours_noprint day30">{{item.hours30}}</td>
      <td class="cell_hours_noprint day31">{{item.hours31}}</td>

    </tr>








  {%endfor%}
</table>
{%else%}
  {% if b_tabel.del_check%}
    <h2>Табель помечен на удаление, дальнейшая работа не возможна!</h2>
  {%else%}
    <h2>Сотрудников нет</h2>
  {%endif%}
{%endif%}
</div>
{%endblock%}
